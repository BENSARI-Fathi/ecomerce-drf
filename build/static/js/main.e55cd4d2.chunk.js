(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{117:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r(32),c=r.n(n),s=(r(87),r(88),r(9)),i=r(10),o=r(12),d=r(11),l=r(130),j=r(122),u=r(135),h=r(127),p=r(18),b=r(7),O=r(13),x=r(8),m=r.n(x),f=r(15),g="USER_LOGIN_REQUEST",v="USER_LOGIN_SUCCESS",y="USER_LOGIN_FAIL",C="USER_LOGOUT",S="USER_REGISTER_REQUEST",E="USER_REGISTER_SUCCESS",I="USER_REGISTER_FAIL",k="USER_UPDATE_REQUEST",_="USER_UPDATE_SUCCESS",R="USER_UPDATE_FAIL",w="USER_DETAILS_REQUEST",L="USER_DETAILS_SUCCESS",D="USER_DETAILS_FAIL",T="USER_LIST_REQUEST",A="USER_LIST_SUCCESS",U="USER_LIST_FAIL",P="USER_LIST_RESET",N="USER_DELETE_REQUEST",M="USER_DELETE_SUCCESS",G="USER_DELETE_FAIL",q="USER_ADMIN_UPDATE_REQUEST",B="USER_ADMIN_UPDATE_SUCCESS",F="USER_ADMIN_UPDATE_FAIL",Q="USER_ADMIN_UPDATE_RESET",$="ORDER_CREATE_REQUEST",J="ORDER_CREATE_SUCCESS",V="ORDER_CREATE_FAIL",z="ORDER_CREATE_RESET",W="ORDER_DETAILS_REQUEST",Y="ORDER_DETAILS_SUCCESS",H="ORDER_DETAILS_FAIL",K="ORDER_DETAILS_RESET",X="ORDER_PAY_REQUEST",Z="ORDER_PAY_SUCCESS",ee="ORDER_PAY_FAIL",te="ORDER_PAY_RESET",re="ORDER_CUSTOMER_REQUEST",ae="ORDER_CUSTOMER_SUCCESS",ne="ORDER_CUSTOMER_FAIL",ce="ORDER_CUSTOMER_RESET",se="ORDER_LIST_REQUEST",ie="ORDER_LIST_SUCCESS",oe="ORDER_LIST_FAIL",de="ORDER_DELIVER_REQUEST",le="ORDER_DELIVER_SUCCESS",je="ORDER_DELIVER_FAIL",ue="ORDER_DELIVERED_RESET",he=r(49),pe=r.n(he),be=pe.a.create({baseURL:"http://127.0.0.1:8000/api/",timeout:5e3,headers:{Authorization:localStorage.getItem("userInfo")?"JWT "+JSON.parse(localStorage.getItem("userInfo")).access:null}}),Oe=function(e,t){return function(){var r=Object(f.a)(m.a.mark((function r(a){var n,c;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:g}),r.next=4,be.post("token/",{username:e,password:t});case 4:n=r.sent,c=n.data,a({type:v,payload:c}),localStorage.setItem("userInfo",JSON.stringify(c)),be.defaults.headers.Authorization="JWT "+c.access,r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),a({type:y,payload:r.t0.response&&r.t0.response.data.detail?r.t0.response.data.detail:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()},xe=function(){return function(e){localStorage.removeItem("userInfo"),e({type:C}),e({type:ce}),e({type:K}),e({type:P}),be.defaults.headers.Authorization=null}},me=function(e,t,r){return function(){var a=Object(f.a)(m.a.mark((function a(n){var c,s;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:S}),a.next=4,be.post("user/register/",{name:e,email:t,password:r});case 4:c=a.sent,s=c.data,n({type:E,payload:s}),n({type:v,payload:s}),be.defaults.headers.Authorization="JWT "+s.access,localStorage.setItem("userInfo",JSON.stringify(s)),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),n({type:I,payload:a.t0.response&&a.t0.response.data?a.t0.response.data[0]:a.t0.message});case 15:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(e){return a.apply(this,arguments)}}()},fe=function(e,t,r,a){return function(){var n=Object(f.a)(m.a.mark((function n(c){var s,i;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c({type:k}),n.next=4,be.put("user/update/",{name:e,email:t,oldPassword:r,password:a});case 4:s=n.sent,i=s.data,c({type:_,payload:i}),c({type:v,payload:i}),be.defaults.headers.Authorization="JWT "+i.access,localStorage.setItem("userInfo",JSON.stringify(i)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),c({type:R,payload:n.t0.response&&n.t0.response.data?n.t0.response.data:n.t0.message});case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()},ge=r(25),ve=r(20),ye=r(128),Ce=r(79),Se=r(0);var Ee=function(){var e=Object(a.useState)(""),t=Object(ge.a)(e,2),r=t[0],n=t[1],c=Object(ve.k)();return Object(Se.jsxs)(ye.a,{onSubmit:function(e){e.preventDefault(),r&&c.push("/?q=".concat(r,"&page=1"))},inline:!0,children:[Object(Se.jsx)(ye.a.Control,{type:"text",name:"q",onChange:function(e){return n(e.target.value)},className:"mr-sm-2",placeholder:"Search"}),Object(Se.jsx)(Ce.a,{type:"submit",variant:"outline-info",disabled:!r,children:"Search"})]})},Ie=function(e){Object(o.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(s.a)(this,r);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).handleLogout=function(){e.props.logout()},e}return Object(i.a)(r,[{key:"render",value:function(){var e=this.props.userLogin.userInfo;return Object(Se.jsx)("header",{children:Object(Se.jsx)(l.a,{bg:"dark",variant:"dark",collapseOnSelect:!0,children:Object(Se.jsxs)(j.a,{children:[Object(Se.jsx)(p.LinkContainer,{to:"/",children:Object(Se.jsx)(l.a.Brand,{children:"Oued-Kniss"})}),Object(Se.jsxs)(u.a,{className:"mr-auto",children:[Object(Se.jsx)(p.LinkContainer,{to:"/",exact:!0,children:Object(Se.jsxs)(u.a.Link,{children:[Object(Se.jsx)("i",{className:"fas fa-home"}),"Home"]})}),Object(Se.jsx)(p.LinkContainer,{to:"/cart",children:Object(Se.jsxs)(u.a.Link,{children:[Object(Se.jsx)("i",{className:"fas fa-shopping-cart"}),"Cart"]})}),e?Object(Se.jsxs)(h.a,{title:e.name,id:"username",children:[Object(Se.jsx)(p.LinkContainer,{to:"/profile",children:Object(Se.jsx)(h.a.Item,{children:"Profile"})}),Object(Se.jsx)(h.a.Item,{onClick:this.handleLogout,children:"Logout"})]}):Object(Se.jsx)(p.LinkContainer,{to:"/login",children:Object(Se.jsxs)(u.a.Link,{children:[Object(Se.jsx)("i",{className:"fas fa-user"}),"Login"]})}),e&&e.isAdmin&&Object(Se.jsxs)(h.a,{title:"Admin",id:"admin",children:[Object(Se.jsx)(p.LinkContainer,{to:"/admin/users",children:Object(Se.jsx)(h.a.Item,{children:"Users"})}),Object(Se.jsx)(p.LinkContainer,{to:"/admin/products",children:Object(Se.jsx)(h.a.Item,{children:"Products"})}),Object(Se.jsx)(p.LinkContainer,{to:"/admin/orders",children:Object(Se.jsx)(h.a.Item,{children:"Orders"})})]})]}),Object(Se.jsx)(Ee,{})]})})})}}]),r}(a.Component),ke=Object(b.b)((function(e){return{userLogin:e.userLogin}}),(function(e){return Object(O.bindActionCreators)({logout:xe},e)}))(Ie),_e=r(123),Re=r(78),we=function(e){Object(o.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"render",value:function(){return Object(Se.jsx)("footer",{children:Object(Se.jsx)(j.a,{children:Object(Se.jsx)(_e.a,{children:Object(Se.jsx)(Re.a,{className:"text-center py-3",children:"Copyright \xa9 OuedKniss"})})})})}}]),r}(a.Component),Le=r(134),De=function(e){Object(o.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"render",value:function(){var e=this.props.value,t=this.props.text,r=this.props.color;return Object(Se.jsxs)("div",{className:"rating",children:[Object(Se.jsx)("span",{children:Object(Se.jsx)("i",{style:{color:r},className:e>=1?"fas fa-star":e>=.5?"fas fa-star-half-alt":"far fa-star"})}),Object(Se.jsx)("span",{children:Object(Se.jsx)("i",{style:{color:r},className:e>=2?"fas fa-star":e>=1.5?"fas fa-star-half-alt":"far fa-star"})}),Object(Se.jsx)("span",{children:Object(Se.jsx)("i",{style:{color:r},className:e>=3?"fas fa-star":e>=2.5?"fas fa-star-half-alt":"far fa-star"})}),Object(Se.jsx)("span",{children:Object(Se.jsx)("i",{style:{color:r},className:e>=4?"fas fa-star":e>=3.5?"fas fa-star-half-alt":"far fa-star"})}),Object(Se.jsx)("span",{children:Object(Se.jsx)("i",{style:{color:r},className:e>=5?"fas fa-star":e>=4.5?"fas fa-star-half-alt":"far fa-star"})}),Object(Se.jsxs)("span",{children:[" ",t&&t]})]})}}]),r}(a.Component),Te=r(14),Ae=function(e){Object(o.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"render",value:function(){var e=this.props.product;return Object(Se.jsx)(Le.a,{className:"my-3 p-3 rounded",children:Object(Se.jsxs)(Te.Link,{to:"/product/".concat(e._id),children:[Object(Se.jsx)(Le.a.Img,{src:e.image,alt:"picture"}),Object(Se.jsxs)(Le.a.Body,{children:[Object(Se.jsx)(Le.a.Title,{as:"div",children:Object(Se.jsx)("strong",{children:e.name})}),Object(Se.jsx)(Le.a.Text,{as:"div",children:Object(Se.jsx)("div",{className:"my-3",children:Object(Se.jsx)(De,{value:e.rating,text:"".concat(e.numReviews," reviews"),color:"#f8e825"})})}),Object(Se.jsx)(Le.a.Text,{as:"h3",children:Object(Se.jsxs)("div",{className:"text-center",children:["$",e.price]})})]})]})})}}]),r}(a.Component),Ue="PRODUCT_LIST_REQUEST",Pe="PRODUCT_LIST_SUCCESS",Ne="PRODUCT_LIST_FAIL",Me="PRODUCT_DETAILS_REQUEST",Ge="PRODUCT_DETAILS_SUCCESS",qe="PRODUCT_DETAILS_FAIL",Be="PRODUCT_DELETE_REQUEST",Fe="PRODUCT_DELETE_SUCCESS",Qe="PRODUCT_DELETE_FAIL",$e="PRODUCT_CREATE_REQUEST",Je="PRODUCT_CREATE_SUCCESS",Ve="PRODUCT_CREATE_FAIL",ze="PRODUCT_CREATE_RESET",We="PRODUCT_UPDATE_REQUEST",Ye="PRODUCT_UPDATE_SUCCESS",He="PRODUCT_UPDATE_FAIL",Ke="PRODUCT_UPDATE_RESET",Xe="PRODUCT_CREATE_REVIEW_REQUEST",Ze="PRODUCT_CREATE_REVIEW_SUCCESS",et="PRODUCT_CREATE_REVIEW_FAIL",tt="PRODUCT_CREATE_REVIEW_RESET",rt="PRODUCT_TOP_REQUEST",at="PRODUCT_TOP_SUCCESS",nt="PRODUCT_TOP_FAIL",ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(f.a)(m.a.mark((function t(r){var a,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:Ue}),t.next=4,be.get("products/".concat(e));case 4:a=t.sent,n=a.data,r({type:Pe,payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:Ne,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},st=function(e){return function(){var t=Object(f.a)(m.a.mark((function t(r){var a,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:Me}),t.next=4,be.get("product/".concat(e));case 4:a=t.sent,n=a.data,r({type:Ge,payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:qe,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},it=function(e,t){return function(){var r=Object(f.a)(m.a.mark((function r(a){var n,c;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:Xe}),r.next=4,be.post("product/".concat(e,"/review/"),t);case 4:n=r.sent,c=n.data,a({type:Ze}),a({type:Ge,payload:c}),a({type:tt}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),a({type:et,payload:r.t0.response&&r.t0.response.data.detail?r.t0.response.data.detail:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()},ot=r(124),dt=function(e){Object(o.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"render",value:function(){return Object(Se.jsx)(ot.a,{animation:"border",variant:"primary",role:"status",style:{height:"100px",width:"100px",margin:"auto",display:"block"},children:Object(Se.jsx)("span",{className:"sr-only",children:"Loading..."})})}}]),r}(a.Component),lt=r(131),jt=function(e){Object(o.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"render",value:function(){var e=this.props.children,t=this.props.variant;return Object(Se.jsx)(lt.a,{variant:t,children:e})}}]),r}(a.Component),ut=jt,ht=r(35),pt=r(132);var bt=function(e){var t=e.page,r=e.pages,a=e.querySearch,n=void 0===a?"":a,c=e.isAdmin,s=void 0!==c&&c;return n&&(n=n.split("?q=")[1].split("&")[0]),r>1&&Object(Se.jsx)(pt.a,{children:Object(ht.a)(Array(r).keys()).map((function(e){return Object(Se.jsx)(p.LinkContainer,{to:s?"/admin/products/?q=".concat(n,"&page=").concat(e+1):"/?q=".concat(n,"&page=").concat(e+1),children:Object(Se.jsx)(pt.a.Item,{active:e+1===t,children:e+1})},e+1)}))})},Ot=r(129),xt=r(125);var mt=function(){var e=Object(b.c)(),t=Object(b.d)((function(e){return e.productTopRated})),r=t.loading,n=t.error,c=t.products;return Object(a.useEffect)((function(){e(function(){var e=Object(f.a)(m.a.mark((function e(t){var r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:rt}),e.next=4,be.get("products/top/");case 4:r=e.sent,a=r.data,t({type:at,payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:nt,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),r?Object(Se.jsx)(dt,{}):n?Object(Se.jsx)(ut,{variant:"dager",children:n}):Object(Se.jsx)(Ot.a,{pause:"hover",className:"bg-dark",children:c.map((function(e){return Object(Se.jsx)(Ot.a.Item,{children:Object(Se.jsxs)(Te.Link,{to:"/product/".concat(e._id),children:[Object(Se.jsx)(xt.a,{src:e.image,alt:e.name,fluid:!0}),Object(Se.jsx)(Ot.a.Caption,{className:"carousel.caption",children:Object(Se.jsxs)("h4",{children:[e.name," ($",e.price,")"]})})]})},e._id)}))})},ft=function(e){Object(o.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"componentDidMount",value:function(){var e=this.props.location.search;this.props.listProducs(e)}},{key:"componentDidUpdate",value:function(e){var t=this.props.location.search;e.location.search!==t&&this.props.listProducs(t)}},{key:"render",value:function(){var e=this.props.location.search,t=this.props.productList,r=t.products,a=t.error,n=t.loding,c=t.page,s=t.pages;return Object(Se.jsxs)("div",{children:[!e&&Object(Se.jsx)(mt,{}),Object(Se.jsx)("h1",{children:"Lastest Products"}),n?Object(Se.jsx)(dt,{}):a?Object(Se.jsx)(jt,{children:a,variant:"success"}):Object(Se.jsxs)("div",{children:[Object(Se.jsx)(_e.a,{children:r.map((function(e){return Object(Se.jsx)(Re.a,{sm:12,md:6,lg:4,xl:3,children:Object(Se.jsx)(Ae,{product:e})},e._id)}))}),Object(Se.jsx)(bt,{page:c,pages:s,querySearch:e})]})]})}}]),r}(a.Component),gt=Object(b.b)((function(e){return{productList:e.productList}}),(function(e){return Object(O.bindActionCreators)({listProducs:ct},e)}))(ft),vt=r(24),yt=r(133),Ct=function(e){Object(o.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(s.a)(this,r),(a=t.call(this,e)).handleQtyChange=function(e){a.setState({qty:parseInt(e.target.value)})},a.addToCart=function(){var e=a.props.match.params.id;console.log("Item added to cart ",a.props.match.params.id),a.props.history.push("/cart/".concat(e,"?qty=").concat(a.state.qty))},a.handleChange=function(e){a.setState(Object(vt.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t=a.props.match.params.id,r=a.state,n=r.rating,c=r.comment;a.props.createProductReview(t,{rating:n,comment:c}),a.setState({rating:0,comment:""})},a.state={qty:1,rating:0,comment:""},a}return Object(i.a)(r,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.detailsProduct(e)}},{key:"render",value:function(){var e=this.props.userLogin.userInfo,t=this.props.productDetails,r=t.product,a=t.loding,n=t.error,c=this.props.productReviewCreate,s=c.loading,i=c.error,o=this.state.qty;return Object(Se.jsxs)("div",{children:[Object(Se.jsx)(Te.Link,{to:"/",className:"btn btn-light",children:"Go Back"}),a?Object(Se.jsx)(dt,{}):n?Object(Se.jsx)(jt,{variant:"danger",children:n}):Object(Se.jsxs)("div",{children:[Object(Se.jsxs)(_e.a,{children:[Object(Se.jsx)(Re.a,{md:6,children:Object(Se.jsx)(Le.a,{children:Object(Se.jsx)(xt.a,{src:r.image,alt:r.name,fluid:!0})})}),Object(Se.jsx)(Re.a,{md:3,children:Object(Se.jsxs)(yt.a,{variant:"flush",children:[Object(Se.jsx)(yt.a.Item,{children:Object(Se.jsx)("h3",{children:r.name})}),Object(Se.jsx)(yt.a.Item,{children:Object(Se.jsx)(De,{value:r.rating,text:"".concat(r.numReviews," reviews"),color:"#f8e825"})}),Object(Se.jsxs)(yt.a.Item,{children:["Description: ",r.description]})]})}),Object(Se.jsx)(Re.a,{md:3,children:Object(Se.jsxs)(Le.a,{children:[Object(Se.jsx)(yt.a,{variant:"flush",children:Object(Se.jsx)(yt.a.Item,{children:Object(Se.jsxs)(_e.a,{children:[Object(Se.jsx)(Re.a,{children:"Price:"}),Object(Se.jsx)(Re.a,{children:Object(Se.jsxs)("strong",{children:["$",r.price]})})]})})}),Object(Se.jsxs)(yt.a,{variant:"flush",children:[Object(Se.jsx)(yt.a.Item,{children:Object(Se.jsxs)(_e.a,{children:[Object(Se.jsx)(Re.a,{children:"Status:"}),Object(Se.jsx)(Re.a,{children:r.countInStock>0?"In Stock":"Out of Stock"})]})}),r.countInStock>0&&Object(Se.jsx)(yt.a.Item,{children:Object(Se.jsxs)(_e.a,{children:[Object(Se.jsx)(Re.a,{children:"QTY:"}),Object(Se.jsx)(Re.a,{children:Object(Se.jsx)(ye.a.Control,{as:"select",value:o,onChange:this.handleQtyChange,children:Object(ht.a)(Array(r.countInStock).keys()).map((function(e){return Object(Se.jsx)("option",{value:e+1,children:e+1},e+1)}))})})]})}),Object(Se.jsx)(yt.a.Item,{children:Object(Se.jsx)(Ce.a,{className:"btn btn-block",disabled:0===r.countInStock,type:"button",onClick:this.addToCart,children:"Add To Cart"})})]})]})})]}),Object(Se.jsx)(_e.a,{className:"my-2",children:Object(Se.jsxs)(Re.a,{md:6,children:[Object(Se.jsx)("h4",{children:"Reviews"}),0===r.reviews.length?Object(Se.jsxs)("div",{children:[Object(Se.jsx)(jt,{variant:"info",children:"No reviews"}),Object(Se.jsx)(yt.a,{variant:"flush",children:Object(Se.jsxs)(yt.a.Item,{children:[Object(Se.jsx)("h4",{children:"Write a Review"}),s&&Object(Se.jsx)(dt,{}),i&&Object(Se.jsx)(jt,{variant:"danger",children:i}),e?Object(Se.jsxs)(ye.a,{onSubmit:this.handleSubmit,children:[Object(Se.jsxs)(ye.a.Group,{controlId:"rating",children:[Object(Se.jsx)(ye.a.Label,{children:"Rating"}),Object(Se.jsxs)(ye.a.Control,{as:"select",value:this.state.rating,onChange:this.handleChange,name:"rating",children:[Object(Se.jsx)("option",{value:"",children:"Select ..."}),Object(Se.jsx)("option",{value:"1",children:"1 - Poor"}),Object(Se.jsx)("option",{value:"2",children:"2 - Fair"}),Object(Se.jsx)("option",{value:"3",children:"3 - Good"}),Object(Se.jsx)("option",{value:"4",children:"4 - Very good"}),Object(Se.jsx)("option",{value:"5",children:"5 - Excellent"})]})]}),Object(Se.jsxs)(ye.a.Group,{controlId:"comment",children:[Object(Se.jsx)(ye.a.Label,{children:"Review"}),Object(Se.jsx)(ye.a.Control,{as:"textarea",row:"5",value:this.state.comment,placeholder:"Write a review ...",name:"comment",onChange:this.handleChange})]}),Object(Se.jsx)(Ce.a,{disabled:s,type:"submit",variant:"outline-info",children:"Submit"})]}):Object(Se.jsxs)(jt,{variant:"info",children:["You must ",Object(Se.jsx)(Te.Link,{to:"/login",children:"Login"})," to write a review"]})]})})]}):Object(Se.jsxs)(yt.a,{variant:"flush",children:[r.reviews.map((function(e){return Object(Se.jsxs)(yt.a.Item,{children:[Object(Se.jsx)("strong",{children:e.name}),Object(Se.jsx)(De,{value:e.rating,color:"#f8e825"}),Object(Se.jsx)("p",{children:new Date(e.created_at).toDateString()}),Object(Se.jsx)("p",{children:e.comment})]},e._id)})),Object(Se.jsxs)(yt.a.Item,{children:[Object(Se.jsx)("h4",{children:"Write a Review"}),s&&Object(Se.jsx)(dt,{}),i&&Object(Se.jsx)(jt,{variant:"danger",children:i}),e?Object(Se.jsxs)(ye.a,{onSubmit:this.handleSubmit,children:[Object(Se.jsxs)(ye.a.Group,{controlId:"rating",children:[Object(Se.jsx)(ye.a.Label,{children:"Rating"}),Object(Se.jsxs)(ye.a.Control,{as:"select",value:this.state.rating,onChange:this.handleChange,name:"rating",children:[Object(Se.jsx)("option",{value:"",children:"Select ..."}),Object(Se.jsx)("option",{value:"1",children:"1 - Poor"}),Object(Se.jsx)("option",{value:"2",children:"2 - Fair"}),Object(Se.jsx)("option",{value:"3",children:"3 - Good"}),Object(Se.jsx)("option",{value:"4",children:"4 - Very good"}),Object(Se.jsx)("option",{value:"5",children:"5 - Excellent"})]})]}),Object(Se.jsxs)(ye.a.Group,{controlId:"comment",children:[Object(Se.jsx)(ye.a.Label,{children:"Review"}),Object(Se.jsx)(ye.a.Control,{as:"textarea",row:"5",value:this.state.comment,placeholder:"Write a review ...",name:"comment",onChange:this.handleChange})]}),Object(Se.jsx)(Ce.a,{disabled:s,type:"submit",variant:"outline-info",children:"Submit"})]}):Object(Se.jsxs)(jt,{variant:"info",children:["You must ",Object(Se.jsx)(Te.Link,{to:"/login",children:"Login"})," to write a review"]})]})]})]})})]})]})}}]),r}(a.Component),St=Object(b.b)((function(e){return{productDetails:e.productDetails,userLogin:e.userLogin,productReviewCreate:e.productReviewCreate}}),(function(e){return Object(O.bindActionCreators)({detailsProduct:st,createProductReview:it},e)}))(Ct),Et="CART_ADD_ITEM",It="CART_REMOVE_ITEM",kt="CART_SAVE_SHIPPING_ADDRESS",_t="CART_SAVE_PAYMENT_METHOD",Rt="CART_CLEAR_ITEM",wt=function(e,t){return function(){var r=Object(f.a)(m.a.mark((function r(a,n){var c,s;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,be.get("product/".concat(e));case 2:c=r.sent,s=c.data,a({type:Et,payload:{product:s._id,name:s.name,image:s.image,price:s.price,countInStock:s.countInStock,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(n().cart.cartItems));case 6:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},Lt=function(e){return function(t,r){t({type:It,payload:e}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems))}},Dt=function(e){return function(t){t({type:kt,payload:e}),localStorage.setItem("shippingAddress",JSON.stringify(e))}},Tt=function(e){return function(t){t({type:_t,payload:e}),localStorage.setItem("paymentMethod",JSON.stringify(e))}},At=function(e){Object(o.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(s.a)(this,r);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).handleChange=function(t,r){e.props.addToCart(t,r)},e.removeItemFromCart=function(t){console.log("item removed ",t),e.props.removeFromCart(t)},e.checkoutHandler=function(){e.props.history.push("/login?redirect=shipping")},e}return Object(i.a)(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match,r=e.location,a=t.params.id,n=r.search?parseInt(r.search.split("=")[1]):1;a&&this.props.addToCart(a,n)}},{key:"render",value:function(){var e=this,t=this.props.cart.cartItems;return Object(Se.jsxs)(_e.a,{children:[Object(Se.jsxs)(Re.a,{md:8,children:[Object(Se.jsx)("h1",{className:"my-3",children:"Shopping cart"}),0===t.length?Object(Se.jsx)("div",{children:Object(Se.jsxs)(jt,{variant:"success",children:["Your Cart is empty ",Object(Se.jsx)(Te.Link,{to:"/",children:"Go Back"})]})}):Object(Se.jsx)(yt.a,{variant:"flush",children:t.map((function(t){return Object(Se.jsx)(yt.a.Item,{children:Object(Se.jsxs)(_e.a,{children:[Object(Se.jsx)(Re.a,{md:2,children:Object(Se.jsx)(xt.a,{src:t.image,alt:t.name,fluid:!0,rounded:!0})}),Object(Se.jsx)(Re.a,{md:3,children:Object(Se.jsx)(Te.Link,{to:"/product/".concat(t.product),children:t.name})}),Object(Se.jsxs)(Re.a,{md:2,children:["$",t.price]}),Object(Se.jsx)(Re.a,{md:3,children:Object(Se.jsx)(ye.a.Control,{as:"select",value:t.qty,onChange:function(r){return e.handleChange(t.product,parseInt(r.target.value))},children:Object(ht.a)(Array(t.countInStock).keys()).map((function(e){return Object(Se.jsx)("option",{value:e+1,children:e+1},e+1)}))})}),Object(Se.jsx)(Re.a,{md:1,children:Object(Se.jsx)(Ce.a,{className:"btn btn-success",type:"button",onClick:function(r){return e.removeItemFromCart(t.product)},children:Object(Se.jsx)("i",{className:"fas fa-trash"})})})]})},t.product)}))})]}),Object(Se.jsx)(Re.a,{md:4,children:Object(Se.jsxs)(yt.a,{variant:"flush",children:[Object(Se.jsx)(yt.a.Item,{children:Object(Se.jsxs)(_e.a,{children:[Object(Se.jsx)(Re.a,{children:Object(Se.jsx)("h2",{children:"Subtotal:"})}),Object(Se.jsx)(Re.a,{children:Object(Se.jsxs)("h2",{children:[t.reduce((function(e,t){return e+t.qty}),0)," items"]})})]})}),Object(Se.jsx)(yt.a.Item,{children:Object(Se.jsxs)(_e.a,{children:[Object(Se.jsx)(Re.a,{children:Object(Se.jsx)("h2",{children:"Total:"})}),Object(Se.jsx)(Re.a,{children:Object(Se.jsx)("h2",{children:Object(Se.jsxs)("strong",{children:["$",t.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2)]})})})]})}),Object(Se.jsx)(yt.a.Item,{children:Object(Se.jsx)(Ce.a,{className:"btn btn-block",disabled:0===t.length,type:"button",onClick:this.checkoutHandler,children:"Proceed to Checkout"})})]})})]})}}]),r}(a.Component),Ut=Object(b.b)((function(e){return{cart:e.cart}}),(function(e){return Object(O.bindActionCreators)({addToCart:wt,removeFromCart:Lt},e)}))(At),Pt=function(e){Object(o.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"render",value:function(){return Object(Se.jsx)(j.a,{children:Object(Se.jsx)(_e.a,{className:"justify-content-md-center",children:Object(Se.jsx)(Re.a,{xs:12,md:6,children:this.props.children})})})}}]),r}(a.Component),Nt=function(e){Object(o.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(s.a)(this,r),(a=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),a.props.login(a.state.email,a.state.password)},a.handleChange=function(e){a.setState(Object(vt.a)({},e.target.name,e.target.value))},a.state={email:"",password:""},a}return Object(i.a)(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.history,r=e.location,a=r.search?r.search.split("=")[1]:"/";this.props.userLogin.userInfo&&t.push(a)}},{key:"componentDidUpdate",value:function(e,t){var r=this.props,a=r.history,n=r.location,c=n.search?n.search.split("=")[1]:"/",s=this.props.userLogin.userInfo;e.userLogin.userInfo!==s&&a.push(c)}},{key:"render",value:function(){var e=this.props.location,t=e.search?e.search.split("=")[1]:null,r=this.props.userLogin,a=r.loding,n=r.error;return Object(Se.jsxs)(Pt,{children:[Object(Se.jsxs)(ye.a,{onSubmit:this.handleSubmit,children:[Object(Se.jsx)("h1",{className:"text-center text-success",children:Object(Se.jsx)("i",{className:"fas fa-user-lock"})}),Object(Se.jsx)("h2",{className:"text-center",children:"Sign In"}),n&&Object(Se.jsx)(jt,{variant:"danger",children:n}),a&&Object(Se.jsx)(dt,{}),Object(Se.jsxs)(ye.a.Group,{controlId:"formBasicEmail",children:[Object(Se.jsx)(ye.a.Label,{children:"Email address"}),Object(Se.jsx)(ye.a.Control,{type:"email",placeholder:"Enter email",required:!0,value:this.state.email,onChange:this.handleChange,name:"email"})]}),Object(Se.jsxs)(ye.a.Group,{controlId:"formBasicPassword",children:[Object(Se.jsx)(ye.a.Label,{children:"Password"}),Object(Se.jsx)(ye.a.Control,{type:"password",placeholder:"Enter password",required:!0,value:this.state.password,onChange:this.handleChange,name:"password"})]}),Object(Se.jsx)(Ce.a,{type:"submit",variant:"outline-success",block:!0,children:a?"Loading ...":"Sign in"})]}),Object(Se.jsx)(_e.a,{className:"py-3",children:Object(Se.jsx)(Re.a,{children:Object(Se.jsxs)("small",{children:["Don't have an account please",Object(Se.jsx)(Te.Link,{to:t?"register?redirect=".concat(t):"register",children:" Sign Up"})]})})})]})}}]),r}(a.Component),Mt=Object(b.b)((function(e){return{userLogin:e.userLogin}}),(function(e){return Object(O.bindActionCreators)({login:Oe},e)}))(Nt),Gt=function(e){Object(o.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(s.a)(this,r),(a=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),a.state.password!==a.state.passwordConfirm?a.setState({message:"Password do not Match"}):(a.setState({message:""}),a.props.register(a.state.name,a.state.email,a.state.password))},a.handleChange=function(e){a.setState(Object(vt.a)({},e.target.name,e.target.value))},a.state={name:"",email:"",password:"",passwordConfirm:"",message:""},a}return Object(i.a)(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.history,r=e.location,a=r.search?r.search.split("=")[1]:"/";this.props.userRegister.userInfo&&t.push(a)}},{key:"componentDidUpdate",value:function(e,t){var r=this.props,a=r.history,n=r.location,c=n.search?n.search.split("=")[1]:"/",s=this.props.userRegister.userInfo;e.userRegister.userInfo!==s&&(console.log("i was triggered and redirect is ",c),a.push(c))}},{key:"render",value:function(){var e=this.props.userRegister,t=e.loding,r=e.error,a=this.state.message;return Object(Se.jsxs)(Pt,{children:[Object(Se.jsxs)(ye.a,{onSubmit:this.handleSubmit,children:[Object(Se.jsx)("h1",{className:"text-center text-success",children:Object(Se.jsx)("i",{className:"fas fa-user-lock"})}),Object(Se.jsx)("h2",{className:"text-center",children:"Sign Up"}),r&&Object(Se.jsx)(jt,{variant:"danger",children:r}),a&&Object(Se.jsx)(jt,{variant:"danger",children:a}),t&&Object(Se.jsx)(dt,{}),Object(Se.jsxs)(ye.a.Group,{controlId:"formBasicName",children:[Object(Se.jsx)(ye.a.Label,{children:"Name"}),Object(Se.jsx)(ye.a.Control,{type:"name",placeholder:"Enter name",required:!0,value:this.state.name,onChange:this.handleChange,name:"name"})]}),Object(Se.jsxs)(ye.a.Group,{controlId:"formBasicEmail",children:[Object(Se.jsx)(ye.a.Label,{children:"Email address"}),Object(Se.jsx)(ye.a.Control,{type:"email",placeholder:"Enter email",required:!0,value:this.state.email,onChange:this.handleChange,name:"email"})]}),Object(Se.jsxs)(ye.a.Group,{controlId:"formBasicPassword",children:[Object(Se.jsx)(ye.a.Label,{children:"Password"}),Object(Se.jsx)(ye.a.Control,{type:"password",placeholder:"Enter password",required:!0,value:this.state.password,onChange:this.handleChange,name:"password"})]}),Object(Se.jsxs)(ye.a.Group,{controlId:"formBasicPasswordConfirm",children:[Object(Se.jsx)(ye.a.Label,{children:"Confirm Password"}),Object(Se.jsx)(ye.a.Control,{type:"password",placeholder:"Confirm password",required:!0,value:this.state.passwordConfirm,onChange:this.handleChange,name:"passwordConfirm"})]}),Object(Se.jsx)(Ce.a,{type:"submit",variant:"outline-success",block:!0,children:t?"Loading ...":"Sign up"})]}),Object(Se.jsx)(_e.a,{className:"py-3",children:Object(Se.jsx)(Re.a,{children:Object(Se.jsxs)("small",{children:["Already have an account please",Object(Se.jsx)(Te.Link,{to:"login/",children:" Login"})]})})})]})}}]),r}(a.Component),qt=Object(b.b)((function(e){return{userRegister:e.userRegister}}),(function(e){return Object(O.bindActionCreators)({register:me},e)}))(Gt),Bt=r(126),Ft=function(e){return function(){var t=Object(f.a)(m.a.mark((function t(r){var a,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:$}),t.next=4,be.post("order/add",e);case 4:a=t.sent,n=a.data,r({type:J,payload:n}),r({type:z}),r({type:Rt}),localStorage.removeItem("cartItems"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),r({type:V,payload:t.t0.response&&t.t0.response.data?t.t0.response.data:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},Qt=function(e){return function(){var t=Object(f.a)(m.a.mark((function t(r){var a,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:W}),t.next=4,be.get("order/".concat(e));case 4:a=t.sent,n=a.data,r({type:Y,payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:H,payload:t.t0.response&&t.t0.response.data?t.t0.response.data.detail:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},$t=function(e){return function(){var t=Object(f.a)(m.a.mark((function t(r){var a,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:X}),t.next=4,be.put("order/".concat(e));case 4:a=t.sent,n=a.data,r({type:Z,payload:n}),r({type:Y,payload:n}),r({type:te}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:ee,payload:t.t0.response&&t.t0.response.data?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},Jt=function(e){return function(){var t=Object(f.a)(m.a.mark((function t(r){var a,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:de}),t.next=4,be.put("order/".concat(e,"/deliver/"),{});case 4:a=t.sent,n=a.data,r({type:le,payload:n}),r({type:Y,payload:n}),r({type:ue}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:je,payload:t.t0.response&&t.t0.response.data?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},Vt=function(){return function(){var e=Object(f.a)(m.a.mark((function e(t){var r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:re}),e.next=4,be.get("user/order");case 4:r=e.sent,a=r.data,t({type:ae,payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:ne,payload:e.t0.response&&e.t0.response.data?e.t0.response.data.detail:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},zt=function(e){Object(o.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(s.a)(this,r),(a=t.call(this,e)).handleSubmit=function(e){var t=a.state,r=t.name,n=t.email,c=t.password,s=t.oldPassword;e.preventDefault(),a.setState({message:""}),a.state.password!==a.state.passwordConfirm?a.setState({message:"Password do not Match"}):a.props.updateUserProfile(r,n,s,c)},a.handleChange=function(e){a.setState(Object(vt.a)({},e.target.name,e.target.value))},a.state={name:"",email:"",oldPassword:"",password:"",passwordConfirm:"",message:""},a}return Object(i.a)(r,[{key:"componentDidMount",value:function(){var e=this.props.history,t=this.props.userLogin.userInfo;t?(this.setState({name:t.name,email:t.email}),this.props.getCustomerOrder()):e.push("/login")}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.history;null===t.userLogin.userInfo&&r.push("/login")}},{key:"render",value:function(){var e=this.props.userUpdate,t=e.loding,r=e.error,a=this.props.orderCustomer,n=a.orders,c=a.loading,s=a.error,i=this.state.message;return Object(Se.jsxs)(_e.a,{children:[Object(Se.jsxs)(Re.a,{md:3,children:[Object(Se.jsx)("h2",{children:"User Profile"}),Object(Se.jsxs)(ye.a,{onSubmit:this.handleSubmit,children:[r&&Object(Se.jsx)(jt,{variant:"danger",children:r}),i&&Object(Se.jsx)(jt,{variant:"danger",children:i}),t&&Object(Se.jsx)(dt,{}),Object(Se.jsxs)(ye.a.Group,{controlId:"formBasicName",children:[Object(Se.jsx)(ye.a.Label,{children:"Name"}),Object(Se.jsx)(ye.a.Control,{type:"name",placeholder:"Enter name",required:!0,value:this.state.name,onChange:this.handleChange,name:"name"})]}),Object(Se.jsxs)(ye.a.Group,{controlId:"formBasicEmail",children:[Object(Se.jsx)(ye.a.Label,{children:"Email address"}),Object(Se.jsx)(ye.a.Control,{type:"email",placeholder:"Enter email",required:!0,value:this.state.email,onChange:this.handleChange,name:"email"})]}),Object(Se.jsxs)(ye.a.Group,{controlId:"formBasicOldPassword",children:[Object(Se.jsx)(ye.a.Label,{children:"Old Password"}),Object(Se.jsx)(ye.a.Control,{type:"password",placeholder:"Current password",value:this.state.oldPassword,onChange:this.handleChange,name:"oldPassword"})]}),Object(Se.jsxs)(ye.a.Group,{controlId:"formBasicPassword",children:[Object(Se.jsx)(ye.a.Label,{children:"New Password"}),Object(Se.jsx)(ye.a.Control,{type:"password",placeholder:"Enter New password",value:this.state.password,onChange:this.handleChange,name:"password"})]}),Object(Se.jsxs)(ye.a.Group,{controlId:"formBasicPasswordConfirm",children:[Object(Se.jsx)(ye.a.Label,{children:"Confirm Password"}),Object(Se.jsx)(ye.a.Control,{type:"password",placeholder:"Confirm password",value:this.state.passwordConfirm,onChange:this.handleChange,name:"passwordConfirm"})]}),Object(Se.jsx)(Ce.a,{type:"submit",variant:"outline-success",block:!0,children:t?"Loading ...":"Update"})]})]}),Object(Se.jsxs)(Re.a,{md:9,children:[Object(Se.jsx)("h2",{children:"My Orders"}),c?Object(Se.jsx)(dt,{}):s?Object(Se.jsx)(jt,{variant:"danger",children:s}):Object(Se.jsxs)(Bt.a,{striped:!0,responsive:!0,className:"table-sm",children:[Object(Se.jsx)("thead",{children:Object(Se.jsxs)("tr",{children:[Object(Se.jsx)("th",{children:"ID"}),Object(Se.jsx)("th",{children:"Date"}),Object(Se.jsx)("th",{children:"Total"}),Object(Se.jsx)("th",{children:"Paid"}),Object(Se.jsx)("th",{children:"Delivered"}),Object(Se.jsx)("th",{})]})}),Object(Se.jsx)("tbody",{children:n.map((function(e){return Object(Se.jsxs)("tr",{children:[Object(Se.jsx)("td",{children:e._id}),Object(Se.jsx)("td",{children:new Date(e.createdAt).toDateString()}),Object(Se.jsxs)("td",{children:["$",e.totalPrice]}),Object(Se.jsx)("td",{children:e.isPaid?new Date(e.paidAt).toDateString():Object(Se.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(Se.jsx)("td",{children:e.isDelivered?new Date(e.deliveredAt).toDateString():Object(Se.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(Se.jsx)("td",{children:Object(Se.jsx)(p.LinkContainer,{to:"/order/".concat(e._id),children:Object(Se.jsx)(Ce.a,{size:"sm",variant:"dark",children:"Details"})})})]},e._id)}))})]})]})]})}}]),r}(a.Component),Wt=Object(b.b)((function(e){return{userLogin:e.userLogin,userUpdate:e.userUpdate,orderCustomer:e.orderCustomer}}),(function(e){return Object(O.bindActionCreators)({updateUserProfile:fe,getCustomerOrder:Vt},e)}))(zt),Yt=function(e){Object(o.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"render",value:function(){var e=this.props,t=e.step1,r=e.step2,a=e.step3,n=e.step4;return Object(Se.jsxs)(u.a,{className:"justify-content-center mb-4",children:[t?Object(Se.jsx)(p.LinkContainer,{to:"/login",children:Object(Se.jsx)(u.a.Link,{children:"Login"})}):Object(Se.jsx)(u.a.Link,{disabled:!0,children:"Login"}),r?Object(Se.jsx)(p.LinkContainer,{to:"/shipping",children:Object(Se.jsx)(u.a.Link,{children:"Shipping"})}):Object(Se.jsx)(u.a.Link,{disabled:!0,children:"Shipping"}),a?Object(Se.jsx)(p.LinkContainer,{to:"/payment",children:Object(Se.jsx)(u.a.Link,{children:"Payment"})}):Object(Se.jsx)(u.a.Link,{disabled:!0,children:"Payment"}),n?Object(Se.jsx)(p.LinkContainer,{to:"/placeorder",children:Object(Se.jsx)(u.a.Link,{children:"Place Order"})}):Object(Se.jsx)(u.a.Link,{disabled:!0,children:"Place Order"})]})}}]),r}(a.Component),Ht=function(e){Object(o.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(s.a)(this,r),(a=t.call(this,e)).handleChange=function(e){a.setState(Object(vt.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){var t=a.props.history;e.preventDefault(),a.props.saveShippingAddress(a.state),t.push("/payment")},a.state={address:"",city:"",postalCode:"",country:""},a}return Object(i.a)(r,[{key:"componentDidMount",value:function(){var e=this.props.cart.shippingAddress;0!==e.length&&this.setState(e)}},{key:"render",value:function(){return Object(Se.jsxs)(Pt,{children:[Object(Se.jsx)(Yt,{step1:!0,step2:!0}),Object(Se.jsx)("h1",{children:"Shipping"}),Object(Se.jsxs)(ye.a,{onSubmit:this.handleSubmit,children:[Object(Se.jsxs)(ye.a.Group,{controlId:"formBasicAddress",children:[Object(Se.jsx)(ye.a.Label,{children:"Address"}),Object(Se.jsx)(ye.a.Control,{type:"text",placeholder:"Enter Address",required:!0,value:this.state.address,onChange:this.handleChange,name:"address"})]}),Object(Se.jsxs)(ye.a.Group,{controlId:"formBasicCity",children:[Object(Se.jsx)(ye.a.Label,{children:"City"}),Object(Se.jsx)(ye.a.Control,{type:"text",placeholder:"Enter City",required:!0,value:this.state.city,onChange:this.handleChange,name:"city"})]}),Object(Se.jsxs)(ye.a.Group,{controlId:"formBasicpostalCode",children:[Object(Se.jsx)(ye.a.Label,{children:"postal Code"}),Object(Se.jsx)(ye.a.Control,{type:"text",placeholder:"Enter postal Code",required:!0,value:this.state.postalCode,onChange:this.handleChange,name:"postalCode"})]}),Object(Se.jsxs)(ye.a.Group,{controlId:"formBasicCountry",children:[Object(Se.jsx)(ye.a.Label,{children:"Country"}),Object(Se.jsx)(ye.a.Control,{type:"text",placeholder:"Enter Country",required:!0,value:this.state.country,onChange:this.handleChange,name:"country"})]}),Object(Se.jsx)(Ce.a,{type:"submit",variant:"outline-success",block:!0,children:"Continue"})]})]})}}]),r}(a.Component),Kt=Object(b.b)((function(e){return{cart:e.cart}}),(function(e){return Object(O.bindActionCreators)({saveShippingAddress:Dt},e)}))(Ht),Xt=function(e){Object(o.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(s.a)(this,r),(a=t.call(this,e)).handleSubmit=function(e){var t=a.props.history;e.preventDefault(),a.props.savePaymentMethod(a.state.paymentMethod),t.push("/placeorder")},a.handleChange=function(e){a.setState(Object(vt.a)({},e.target.name,e.target.value))},a.state={paymentMethod:"PayPal"},a}return Object(i.a)(r,[{key:"componentDidMount",value:function(){var e=this.props.history;0===this.props.cart.shippingAddress.length&&e.push("/shipping")}},{key:"render",value:function(){var e=this;return Object(Se.jsxs)(Pt,{children:[Object(Se.jsx)(Yt,{step1:!0,step2:!0,step3:!0}),Object(Se.jsxs)(ye.a,{onSubmit:this.handleSubmit,children:[Object(Se.jsxs)(ye.a.Group,{children:[Object(Se.jsx)(ye.a.Label,{as:"legend",children:"Select Method"}),Object(Se.jsxs)(Re.a,{children:[Object(Se.jsx)(ye.a.Check,{type:"radio",label:"paypal or Credit Card",id:"paypal",name:"paymentMethod",checked:!0,value:"Paypal",onClick:function(e){return console.log(e.target.value)},onChange:this.handleChange}),Object(Se.jsx)(ye.a.Check,{type:"radio",label:"Paysera",id:"Paysera",name:"paymentMethod",value:"Paysera",onClick:function(t){return console.log(e.state.paymentMethod)},onChange:this.handleChange}),Object(Se.jsx)(ye.a.Check,{type:"radio",label:"E-Bank",id:"E-Bank",name:"paymentMethod",value:"E-Bank",onClick:function(t){return console.log(e.state.paymentMethod)},onChange:this.handleChange})]})]}),Object(Se.jsx)(Ce.a,{type:"submit",variant:"outline-success",block:!0,children:"Continue"})]})]})}}]),r}(a.Component),Zt=Object(b.b)((function(e){return{cart:e.cart}}),(function(e){return Object(O.bindActionCreators)({savePaymentMethod:Tt},e)}))(Xt),er=function(e){Object(o.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(s.a)(this,r);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).placeOrder=function(t,r,a,n){var c=e.props.cart,s=c.shippingAddress,i=c.paymentMethod,o=c.cartItems;e.props.createOrder({orderItems:o,shippingAddress:s,paymentMethod:i,itemsPrice:t,shippingPrice:r,taxPrice:a,totalPrice:n})},e}return Object(i.a)(r,[{key:"componentDidMount",value:function(){var e=this.props.history;""===this.props.cart&&e.push("/payment")}},{key:"componentDidUpdate",value:function(){var e=this.props.orderCreate,t=e.success,r=e.order,a=this.props.history;t&&a.push("/order/".concat(r._id))}},{key:"render",value:function(){var e=this,t=this.props.cart,r=t.shippingAddress,a=t.paymentMethod,n=t.cartItems,c=n.reduce((function(e,t){return e+t.price*t.qty}),0).toFixed(2),s=(c>100?0:10).toFixed(2),i=(.073*c).toFixed(2),o=(Number(c)+Number(s)+Number(i)).toFixed(2),d=this.props.orderCreate,l=d.error,j=d.loading;return Object(Se.jsxs)("div",{children:[Object(Se.jsx)(Yt,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(Se.jsxs)(_e.a,{children:[Object(Se.jsx)(Re.a,{md:8,children:Object(Se.jsxs)(yt.a,{variant:"flush",children:[Object(Se.jsxs)(yt.a.Item,{children:[Object(Se.jsx)("h2",{children:"Shipping"}),Object(Se.jsxs)("p",{children:[Object(Se.jsx)("strong",{children:"Shipping: "}),r.address,", ",r.city,",","   ".concat(r.postalCode),",","   ".concat(r.country)]})]}),Object(Se.jsxs)(yt.a.Item,{children:[Object(Se.jsx)("h2",{children:"Payment Method"}),Object(Se.jsxs)("p",{children:[Object(Se.jsx)("strong",{children:"Method: "}),a]})]}),Object(Se.jsxs)(yt.a.Item,{children:[Object(Se.jsx)("h2",{children:"Order Items"}),0===n.lenght?Object(Se.jsx)(jt,{variant:"info",children:"Your cart is empty"}):Object(Se.jsx)(yt.a,{variant:"flush",children:n.map((function(e,t){return Object(Se.jsx)(yt.a.Item,{children:Object(Se.jsxs)(_e.a,{children:[Object(Se.jsx)(Re.a,{md:1,children:Object(Se.jsx)(xt.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(Se.jsx)(Re.a,{children:Object(Se.jsx)(Te.Link,{to:"product/".concat(e.product),children:e.name})}),Object(Se.jsxs)(Re.a,{md:4,children:[e.qty," x $",e.price," = $",(e.qty*e.price).toFixed(2)]})]})},t)}))})]})]})}),Object(Se.jsx)(Re.a,{md:4,children:Object(Se.jsx)(Le.a,{children:Object(Se.jsxs)(yt.a,{variant:"flush",children:[Object(Se.jsx)(yt.a.Item,{children:Object(Se.jsx)("h2",{children:"Order Summary"})}),Object(Se.jsx)(yt.a.Item,{children:Object(Se.jsxs)(_e.a,{children:[Object(Se.jsx)(Re.a,{children:"Items:"}),Object(Se.jsxs)(Re.a,{children:["$",c]})]})}),Object(Se.jsx)(yt.a.Item,{children:Object(Se.jsxs)(_e.a,{children:[Object(Se.jsx)(Re.a,{children:"Shipping:"}),Object(Se.jsxs)(Re.a,{children:["$",s]})]})}),Object(Se.jsx)(yt.a.Item,{children:Object(Se.jsxs)(_e.a,{children:[Object(Se.jsx)(Re.a,{children:"Tax:"}),Object(Se.jsxs)(Re.a,{children:["$",i]})]})}),Object(Se.jsx)(yt.a.Item,{children:Object(Se.jsxs)(_e.a,{children:[Object(Se.jsx)(Re.a,{children:"Total:"}),Object(Se.jsxs)(Re.a,{children:["$",o]})]})}),l&&Object(Se.jsx)(yt.a.Item,{children:l}),Object(Se.jsx)(yt.a.Item,{children:Object(Se.jsx)(Ce.a,{type:"button",block:!0,disabled:0===n.length,onClick:function(t){return e.placeOrder(c,s,i,o)},children:j?"loading ....":"Place Order"})})]})})})]})]})}}]),r}(a.Component),tr=Object(b.b)((function(e){return{cart:e.cart,orderCreate:e.orderCreate}}),(function(e){return Object(O.bindActionCreators)({createOrder:Ft},e)}))(er),rr=function(e){Object(o.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(s.a)(this,r),(a=t.call(this,e)).handleChange=function(e){a.setState(Object(vt.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e,t){e.preventDefault(),a.setState({errMsg:""});var r=a.props.match.params.id,n=a.state,c={username:n.username,password:n.password,To:"BANK",amount:Number(t)};pe.a.post("http://127.0.0.1:5000/transfer",c).then((function(e){return console.log(e.data)})).then((function(){return a.props.payOrder(r)})).catch((function(e){return a.setState({errMsg:e.response.data.message})}))},a.handleDeliver=function(){var e=a.props.match.params.id;a.props.deliverOrder(e)},a.state={username:"",password:"",errMsg:""},a}return Object(i.a)(r,[{key:"componentDidMount",value:function(){var e=this.props.userLogin.userInfo,t=this.props.history,r=this.props.match.params.id;e||t.push("/login"),this.props.getOrderDetails(r)}},{key:"componentDidUpdate",value:function(){var e=this.props.history;this.props.userLogin.userInfo||e.push("/login")}},{key:"render",value:function(){var e,t=this,r=this.props.orderDetails,a=r.loading,n=r.error,c=r.order,s=this.props.orderPay.loading,i=this.props.orderDeliver.loading,o=this.props.userLogin.userInfo,d=this.state.errMsg;return c&&(e=c.orderItems.reduce((function(e,t){return e+t.price*t.qty}),0).toFixed(2)),Object(Se.jsx)("div",{children:a?Object(Se.jsx)(dt,{}):n?Object(Se.jsx)(jt,{variant:"danger",children:n}):Object(Se.jsxs)(_e.a,{children:[Object(Se.jsx)(Re.a,{md:8,children:Object(Se.jsxs)(yt.a,{variant:"flush",children:[Object(Se.jsxs)(yt.a.Item,{children:[Object(Se.jsx)("h2",{children:"Shipping"}),Object(Se.jsxs)("p",{children:[Object(Se.jsx)("strong",{children:"Name: "})," ",c.user.name]}),Object(Se.jsxs)("p",{children:[Object(Se.jsx)("strong",{children:"Email: "})," ",Object(Se.jsx)("a",{href:"mailto:".concat(c.user.email),children:c.user.email})]}),Object(Se.jsxs)("p",{children:[Object(Se.jsx)("strong",{children:"Shipping: "}),c.shippingAddress.address,", ",c.shippingAddress.city,",","   ".concat(c.shippingAddress.postalCode),",","   ".concat(c.shippingAddress.country)]}),c.isDelivered?Object(Se.jsxs)(jt,{variant:"success",children:["Delivered on ",new Date("".concat(c.deliveredAt)).toDateString()]}):Object(Se.jsx)(jt,{variant:"warning",children:"Not delivered"})]}),Object(Se.jsxs)(yt.a.Item,{children:[Object(Se.jsx)("h2",{children:"Payment Method"}),Object(Se.jsxs)("p",{children:[Object(Se.jsx)("strong",{children:"Method: "}),c.paymentMethod]}),c.isPaid?Object(Se.jsxs)(jt,{variant:"success",children:["Paid on: ",new Date("".concat(c.paidAt)).toDateString()]}):Object(Se.jsx)(jt,{variant:"warning",children:"Not paid"})]}),Object(Se.jsxs)(yt.a.Item,{children:[Object(Se.jsx)("h2",{children:"Order Items"}),0===c.orderItems.lenght?Object(Se.jsx)(jt,{variant:"info",children:"Your cart is empty"}):Object(Se.jsx)(yt.a,{variant:"flush",children:c.orderItems.map((function(e,t){return Object(Se.jsx)(yt.a.Item,{children:Object(Se.jsxs)(_e.a,{children:[Object(Se.jsx)(Re.a,{md:1,children:Object(Se.jsx)(xt.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(Se.jsx)(Re.a,{children:Object(Se.jsx)(Te.Link,{to:"product/".concat(e.product),children:e.name})}),Object(Se.jsxs)(Re.a,{md:4,children:[e.qty," x $",e.price," = $",(e.qty*e.price).toFixed(2)]})]})},t)}))})]})]})}),Object(Se.jsx)(Re.a,{md:4,children:Object(Se.jsx)(Le.a,{children:Object(Se.jsxs)(yt.a,{variant:"flush",children:[Object(Se.jsx)(yt.a.Item,{children:Object(Se.jsx)("h2",{children:"Order Summary"})}),Object(Se.jsx)(yt.a.Item,{children:Object(Se.jsxs)(_e.a,{children:[Object(Se.jsx)(Re.a,{children:"Items:"}),Object(Se.jsxs)(Re.a,{children:["$",e]})]})}),Object(Se.jsx)(yt.a.Item,{children:Object(Se.jsxs)(_e.a,{children:[Object(Se.jsx)(Re.a,{children:"Shipping:"}),Object(Se.jsxs)(Re.a,{children:["$",c.shippingPrice]})]})}),Object(Se.jsx)(yt.a.Item,{children:Object(Se.jsxs)(_e.a,{children:[Object(Se.jsx)(Re.a,{children:"Tax:"}),Object(Se.jsxs)(Re.a,{children:["$",c.taxPrice]})]})}),Object(Se.jsx)(yt.a.Item,{children:Object(Se.jsxs)(_e.a,{children:[Object(Se.jsx)(Re.a,{children:"Total:"}),Object(Se.jsxs)(Re.a,{children:["$",c.totalPrice]})]})}),n&&Object(Se.jsx)(yt.a.Item,{children:Object(Se.jsx)(jt,{variant:"dark",children:n})}),d&&Object(Se.jsx)(yt.a.Item,{children:Object(Se.jsx)(jt,{variant:"dark",children:d})}),!c.isPaid&&Object(Se.jsx)(yt.a.Item,{children:Object(Se.jsxs)(ye.a,{onSubmit:function(e){return t.handleSubmit(e,c.totalPrice)},children:[Object(Se.jsx)("h3",{className:"text-center",children:Object(Se.jsx)("strong",{children:"Card info"})}),Object(Se.jsxs)(ye.a.Group,{controlId:"formBasicName",children:[Object(Se.jsx)(ye.a.Label,{children:"Username"}),Object(Se.jsx)(ye.a.Control,{type:"name",placeholder:"Enter username",required:!0,value:this.state.username,onChange:this.handleChange,name:"username"})]}),Object(Se.jsxs)(ye.a.Group,{controlId:"formBasicPassword",children:[Object(Se.jsx)(ye.a.Label,{children:"Password"}),Object(Se.jsx)(ye.a.Control,{type:"password",placeholder:"Enter password",required:!0,value:this.state.password,onChange:this.handleChange,name:"password"})]}),Object(Se.jsx)(Ce.a,{type:"submit",variant:"outline-success",block:!0,disabled:0===c.orderItems.length||s,children:s?Object(Se.jsx)(ot.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):Object(Se.jsx)("i",{className:"far fa-credit-card"})})]})}),o&&o.isAdmin&&c.isPaid&&!c.isDelivered&&Object(Se.jsx)(yt.a.Item,{children:Object(Se.jsx)(Ce.a,{block:!0,variant:"outline-success",onClick:this.handleDeliver,children:i?Object(Se.jsx)(ot.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Mark as deliver"})})]})})})]})})}}]),r}(a.Component),ar=Object(b.b)((function(e){return{orderDetails:e.orderDetails,userLogin:e.userLogin,orderPay:e.orderPay,orderDeliver:e.orderDeliver}}),(function(e){return Object(O.bindActionCreators)({getOrderDetails:Qt,payOrder:$t,deliverOrder:Jt},e)}))(rr);var nr=function(e){var t=e.history,r=Object(b.c)(),n=Object(b.d)((function(e){return e.userList})),c=n.loading,s=n.error,i=n.users,o=Object(b.d)((function(e){return e.userLogin})).userInfo,d=Object(b.d)((function(e){return e.userDelete})),l=d.loading,j=d.success;Object(a.useEffect)((function(){o&&o.isAdmin?r(function(){var e=Object(f.a)(m.a.mark((function e(t){var r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:T}),e.next=4,be.get("users");case 4:r=e.sent,a=r.data,t({type:A,payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:U,payload:e.t0.response&&e.t0.response.data?e.t0.response.data.detail:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()):t.push("/login")}),[r,t,o,j]);var u=function(e){window.confirm("Are you sure to delete this User ?")&&r(function(e){return function(){var t=Object(f.a)(m.a.mark((function t(r){var a,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:N}),t.next=4,be.delete("user/".concat(e,"/delete"));case 4:a=t.sent,n=a.data,r({type:M,payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:G,payload:t.t0.response&&t.t0.response.data?t.t0.response.data.detail:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(Se.jsxs)("div",{children:[Object(Se.jsx)("h1",{children:"Users"}),c?Object(Se.jsx)(dt,{}):s?Object(Se.jsx)(jt,{variant:"danger",children:s}):Object(Se.jsxs)(Bt.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(Se.jsx)("thead",{children:Object(Se.jsxs)("tr",{children:[Object(Se.jsx)("th",{children:"ID"}),Object(Se.jsx)("th",{children:"Name"}),Object(Se.jsx)("th",{children:"Email"}),Object(Se.jsx)("th",{children:"Admin"}),Object(Se.jsx)("th",{})]})}),Object(Se.jsx)("tbody",{children:i.map((function(e){return Object(Se.jsxs)("tr",{children:[Object(Se.jsx)("td",{children:e._id}),Object(Se.jsx)("td",{children:e.name}),Object(Se.jsx)("td",{children:e.email}),Object(Se.jsx)("td",{children:e.isAdmin?Object(Se.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(Se.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(Se.jsxs)("td",{children:[Object(Se.jsx)(p.LinkContainer,{to:"/admin/user/".concat(e._id),children:Object(Se.jsx)(Ce.a,{size:"sm",variant:"dark",children:Object(Se.jsx)("i",{className:"fas fa-edit"})})}),Object(Se.jsx)(Ce.a,{size:"sm",className:"ml-2",variant:"outline-success",onClick:function(){return u(e._id)},children:l?Object(Se.jsx)("i",{className:"fas fa-circle-notch"}):Object(Se.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)}))})]})]})};var cr=function(e){var t=e.match,r=e.history,n=t.params.id,c=Object(b.c)(),s=Object(b.d)((function(e){return e.userDetails})),i=s.user,o=s.loading,d=s.error,l=Object(b.d)((function(e){return e.userUpdateByAdmin})),j=l.loading,u=l.error,h=l.success,p=Object(a.useState)(""),O=Object(ge.a)(p,2),x=O[0],g=O[1],v=Object(a.useState)(""),y=Object(ge.a)(v,2),C=y[0],S=y[1],E=Object(a.useState)(!1),I=Object(ge.a)(E,2),k=I[0],_=I[1];return Object(a.useEffect)((function(){h&&(c({type:Q}),r.push("/admin/users")),i&&i._id===Number(n)?(g(i.name),S(i.email),_(i.isAdmin)):c(function(e){return function(){var t=Object(f.a)(m.a.mark((function t(r){var a,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:w}),t.next=4,be.get("user/".concat(e));case 4:a=t.sent,n=a.data,r({type:L,payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:D,payload:t.t0.response&&t.t0.response.data?t.t0.response.data.detail:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(n))}),[c,i,n,h,r]),Object(Se.jsxs)("div",{children:[Object(Se.jsx)(Te.Link,{to:"/admin/users",children:"Go Back"}),o?Object(Se.jsx)(dt,{}):d?Object(Se.jsx)(ut,{variant:"danger",children:d}):Object(Se.jsxs)(Pt,{children:[u&&Object(Se.jsx)(ut,{variant:"danger",children:u}),Object(Se.jsxs)(ye.a,{onSubmit:function(e){e.preventDefault(),c(function(e){return function(){var t=Object(f.a)(m.a.mark((function t(r){var a,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:q}),t.next=4,be.put("user/".concat(e._id,"/"),e);case 4:a=t.sent,n=a.data,r({type:B}),r({type:L,payload:n}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),r({type:F,payload:t.t0.response&&t.t0.response.data?t.t0.response.data.detail:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}({_id:i._id,name:x,email:C,isAdmin:k}))},children:[Object(Se.jsx)("h1",{children:"Edit User"}),Object(Se.jsxs)(ye.a.Group,{controlId:"formBasicName",children:[Object(Se.jsx)(ye.a.Label,{children:"Name"}),Object(Se.jsx)(ye.a.Control,{type:"name",placeholder:"Enter name",required:!0,value:x,onChange:function(e){return g(e.target.value)},name:"name"})]}),Object(Se.jsxs)(ye.a.Group,{controlId:"formBasicEmail",children:[Object(Se.jsx)(ye.a.Label,{children:"Email address"}),Object(Se.jsx)(ye.a.Control,{type:"email",placeholder:"Enter email",required:!0,value:C,onChange:function(e){return S(e.target.value)},name:"email"})]}),Object(Se.jsx)(ye.a.Group,{controlId:"formBasicisAdmin",children:Object(Se.jsx)(ye.a.Check,{type:"checkbox",label:"Is Admin",checked:k,onChange:function(e){return _(e.target.checked)}})}),Object(Se.jsx)(Ce.a,{type:"submit",variant:"outline-success",block:!0,children:j?"Loading ...":"Update"})]})]})]})};var sr=function(e){var t=e.history,r=e.location,n=Object(b.c)(),c=Object(b.d)((function(e){return e.productList})),s=c.loding,i=c.error,o=c.products,d=c.page,l=c.pages,j=Object(b.d)((function(e){return e.productDelete})),u=j.loading,h=j.error,O=j.success,x=Object(b.d)((function(e){return e.productCreate})),g=x.loading,v=x.error,y=x.success,C=x.product,S=Object(b.d)((function(e){return e.userLogin})).userInfo;Object(a.useEffect)((function(){n({type:ze}),S||S.isAdmin||t.push("/login"),y?t.push("/admin/product/".concat(C._id)):n(ct(r.search))}),[n,t,S,O,y,C,r]);var E=function(e){window.confirm("Are you sure to delete this Product ?")&&n(function(e){return function(){var t=Object(f.a)(m.a.mark((function t(r){var a,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:Be}),t.next=4,be.delete("product/".concat(e));case 4:a=t.sent,n=a.data,r({type:Fe,payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:Qe,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(Se.jsxs)("div",{children:[Object(Se.jsxs)(_e.a,{className:"align-items-center",children:[Object(Se.jsx)(Re.a,{children:Object(Se.jsx)("h1",{children:"Products"})}),Object(Se.jsx)(Re.a,{className:"text-right",children:Object(Se.jsxs)(Ce.a,{className:"my-3",onClick:function(){n(function(){var e=Object(f.a)(m.a.mark((function e(t){var r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:$e}),e.next=4,be.post("products/",{});case 4:r=e.sent,a=r.data,t({type:Je,payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:Ve,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())},children:[Object(Se.jsx)("i",{className:"fas fa-plus"})," Add product"]})})]}),u&&Object(Se.jsx)(dt,{}),h&&Object(Se.jsx)(jt,{variant:"danger",children:h}),g&&Object(Se.jsx)(dt,{}),v&&Object(Se.jsx)(jt,{variant:"danger",children:v}),s?Object(Se.jsx)(dt,{}):i?Object(Se.jsx)(jt,{variant:"danger",children:i}):Object(Se.jsxs)("div",{children:[Object(Se.jsxs)(Bt.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(Se.jsx)("thead",{children:Object(Se.jsxs)("tr",{children:[Object(Se.jsx)("th",{children:"ID"}),Object(Se.jsx)("th",{children:"Name"}),Object(Se.jsx)("th",{children:"Price"}),Object(Se.jsx)("th",{children:"Category"}),Object(Se.jsx)("th",{children:"Brand"}),Object(Se.jsx)("th",{})]})}),Object(Se.jsx)("tbody",{children:o.map((function(e){return Object(Se.jsxs)("tr",{children:[Object(Se.jsx)("td",{children:e._id}),Object(Se.jsx)("td",{children:e.name}),Object(Se.jsxs)("td",{children:["$",e.price]}),Object(Se.jsx)("td",{children:e.category}),Object(Se.jsx)("td",{children:e.brand}),Object(Se.jsxs)("td",{children:[Object(Se.jsx)(p.LinkContainer,{to:"/admin/product/".concat(e._id),children:Object(Se.jsx)(Ce.a,{size:"sm",variant:"dark",children:Object(Se.jsx)("i",{className:"fas fa-edit"})})}),Object(Se.jsx)(Ce.a,{size:"sm",className:"ml-2",variant:"outline-success",onClick:function(){return E(e._id)},children:Object(Se.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)}))})]}),Object(Se.jsx)(bt,{page:d,pages:l,isAdmin:!0})]})]})};var ir=function(e){var t=e.match,r=e.history,n=t.params.id,c=Object(b.c)(),s=Object(b.d)((function(e){return e.productDetails})),i=s.product,o=s.loding,d=s.error,l=Object(b.d)((function(e){return e.productUpdate})),j=l.success,u=l.loading,h=l.error,p=Object(a.useState)(""),O=Object(ge.a)(p,2),x=O[0],g=O[1],v=Object(a.useState)(0),y=Object(ge.a)(v,2),C=y[0],S=y[1],E=Object(a.useState)(""),I=Object(ge.a)(E,2),k=I[0],_=I[1],R=Object(a.useState)(""),w=Object(ge.a)(R,2),L=w[0],D=w[1],T=Object(a.useState)(""),A=Object(ge.a)(T,2),U=A[0],P=A[1],N=Object(a.useState)(0),M=Object(ge.a)(N,2),G=M[0],q=M[1],B=Object(a.useState)(""),F=Object(ge.a)(B,2),Q=F[0],$=F[1],J=Object(a.useState)(!1),V=Object(ge.a)(J,2),z=V[0],W=V[1],Y=function(){var e=Object(f.a)(m.a.mark((function e(t){var r,a,c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.files[0],(a=new FormData).append("image",r),a.append("product_id",n),W(!0),e.prev=5,e.next=8,be.post("product/upload/",a);case 8:c=e.sent,s=c.data,_(s),W(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),W(!1);case 17:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){j?(c({type:Ke}),r.push("/admin/products")):i&&i._id===Number(n)?(g(i.name),S(i.price),_(i.image),D(i.brand),P(i.category),q(i.countInStock),$(i.description)):c(st(n))}),[c,i,n,r,j]),Object(Se.jsxs)("div",{children:[Object(Se.jsx)(Te.Link,{to:"/admin/products",children:"Go Back"}),o?Object(Se.jsx)(dt,{}):d?Object(Se.jsx)(ut,{variant:"danger",children:d}):Object(Se.jsx)(Pt,{children:Object(Se.jsxs)(ye.a,{id:"update_product",onSubmit:function(e){e.preventDefault(),c(function(e){return function(){var t=Object(f.a)(m.a.mark((function t(r){var a,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:We}),t.next=4,be.put("product/".concat(e._id),e);case 4:a=t.sent,n=a.data,r({type:Ye}),r({type:Ge,payload:n}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0.response),r({type:He,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}({_id:i._id,name:x,brand:L,price:C,category:U,countInStock:G,description:Q}))},children:[Object(Se.jsx)("h1",{children:"Edit Product"}),u&&Object(Se.jsx)(dt,{}),h&&Object(Se.jsx)(ut,{variant:"danger",children:h}),Object(Se.jsxs)(ye.a.Group,{controlId:"formBasicName",children:[Object(Se.jsx)(ye.a.Label,{children:"Name"}),Object(Se.jsx)(ye.a.Control,{type:"name",placeholder:"Enter name",required:!0,value:x,onChange:function(e){return g(e.target.value)},name:"name"})]}),Object(Se.jsxs)(ye.a.Group,{controlId:"formBasicPrice",children:[Object(Se.jsx)(ye.a.Label,{children:"Price"}),Object(Se.jsx)(ye.a.Control,{type:"number",placeholder:"Enter price",required:!0,value:C,onChange:function(e){return S(e.target.value)},name:"price"})]}),Object(Se.jsxs)(ye.a.Group,{controlId:"formBasicImage",children:[Object(Se.jsx)(ye.a.Label,{children:"Image"}),Object(Se.jsx)(ye.a.Control,{type:"text",placeholder:"Enter image",required:!0,value:k,onChange:function(e){return _(e.target.value)},name:"image"}),Object(Se.jsx)(ye.a.File,{id:"imageFIle",label:"Choose an Image",custom:!0,onChange:Y}),z&&Object(Se.jsx)(dt,{})]}),Object(Se.jsxs)(ye.a.Group,{controlId:"formBasicBrand",children:[Object(Se.jsx)(ye.a.Label,{children:"Brand"}),Object(Se.jsx)(ye.a.Control,{type:"text",placeholder:"Enter brand",required:!0,value:L,onChange:function(e){return D(e.target.value)},name:"brand"})]}),Object(Se.jsxs)(ye.a.Group,{controlId:"formBasicStock",children:[Object(Se.jsx)(ye.a.Label,{children:"Stock"}),Object(Se.jsx)(ye.a.Control,{type:"number",placeholder:"Enter Stock",required:!0,value:G,onChange:function(e){return q(e.target.value)},name:"countInStock"})]}),Object(Se.jsxs)(ye.a.Group,{controlId:"formBasicCategory",children:[Object(Se.jsx)(ye.a.Label,{children:"Category"}),Object(Se.jsx)(ye.a.Control,{type:"text",placeholder:"Enter Category",required:!0,value:U,onChange:function(e){return P(e.target.value)},name:"category"})]}),Object(Se.jsxs)(ye.a.Group,{controlId:"formBasicDescription",children:[Object(Se.jsx)(ye.a.Label,{children:"Description"}),Object(Se.jsx)(ye.a.Control,{as:"textarea",row:"5",placeholder:"Enter Description",required:!0,value:Q,onChange:function(e){return $(e.target.value)},name:"description"})]}),Object(Se.jsx)(Ce.a,{type:"submit",variant:"outline-success",block:!0,children:"Update"})]})})]})};var or=function(e){var t=e.history,r=Object(b.c)(),n=Object(b.d)((function(e){return e.orderList})),c=n.loading,s=n.error,i=n.orders,o=Object(b.d)((function(e){return e.userLogin})).userInfo;return Object(a.useEffect)((function(){o&&o.isAdmin?r(function(){var e=Object(f.a)(m.a.mark((function e(t){var r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:se}),e.next=4,be.get("orders/");case 4:r=e.sent,a=r.data,t({type:ie,payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:oe,payload:e.t0.response&&e.t0.response.data?e.t0.response.data.detail:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()):t.push("/login")}),[r,t,o]),Object(Se.jsxs)("div",{children:[Object(Se.jsx)("h1",{children:"Orders"}),c?Object(Se.jsx)(dt,{}):s?Object(Se.jsx)(jt,{variant:"danger",children:s}):Object(Se.jsxs)(Bt.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(Se.jsx)("thead",{children:Object(Se.jsxs)("tr",{children:[Object(Se.jsx)("th",{children:"ID"}),Object(Se.jsx)("th",{children:"USER"}),Object(Se.jsx)("th",{children:"DATE"}),Object(Se.jsx)("th",{children:"TOTAL"}),Object(Se.jsx)("th",{children:"PAID"}),Object(Se.jsx)("th",{children:"DELEIVERED"}),Object(Se.jsx)("th",{})]})}),Object(Se.jsx)("tbody",{children:i.map((function(e){return Object(Se.jsxs)("tr",{children:[Object(Se.jsx)("td",{children:e._id}),Object(Se.jsx)("td",{children:e.user.name}),Object(Se.jsx)("td",{children:new Date(e.createdAt).toDateString()}),Object(Se.jsxs)("td",{children:["$",e.totalPrice]}),Object(Se.jsx)("td",{children:e.isPaid?new Date(e.paidAt).toDateString():Object(Se.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(Se.jsx)("td",{children:e.isDelivered?new Date(e.deliveredAt).toDateString():Object(Se.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(Se.jsx)("td",{children:Object(Se.jsx)(p.LinkContainer,{to:"/order/".concat(e._id),children:Object(Se.jsx)(Ce.a,{size:"sm",variant:"dark",children:Object(Se.jsx)("i",{className:"fas fa-edit"})})})})]},e._id)}))})]})]})},dr=function(e){Object(o.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"render",value:function(){return Object(Se.jsxs)(Te.HashRouter,{children:[Object(Se.jsx)(ke,{}),Object(Se.jsx)("main",{className:"py-3",children:Object(Se.jsx)(j.a,{children:Object(Se.jsxs)(ve.g,{children:[Object(Se.jsx)(ve.d,{path:"/",exact:!0,component:gt}),Object(Se.jsx)(ve.d,{path:"/product/:id",exact:!0,component:St}),Object(Se.jsx)(ve.d,{path:"/cart/:id?",component:Ut}),Object(Se.jsx)(ve.d,{path:"/login",component:Mt}),Object(Se.jsx)(ve.d,{path:"/register",component:qt}),Object(Se.jsx)(ve.d,{path:"/profile",component:Wt}),Object(Se.jsx)(ve.d,{path:"/shipping",component:Kt}),Object(Se.jsx)(ve.d,{path:"/payment",component:Zt}),Object(Se.jsx)(ve.d,{path:"/placeorder",component:tr}),Object(Se.jsx)(ve.d,{path:"/order/:id",component:ar}),Object(Se.jsx)(ve.d,{path:"/admin/users",component:nr}),Object(Se.jsx)(ve.d,{path:"/admin/user/:id",component:cr}),Object(Se.jsx)(ve.d,{path:"/admin/products",component:sr}),Object(Se.jsx)(ve.d,{path:"/admin/product/:id",component:ir}),Object(Se.jsx)(ve.d,{path:"/admin/orders",component:or})]})})}),Object(Se.jsx)(we,{})]})}}]),r}(a.Component),lr=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,136)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),a(e),n(e),c(e),s(e)}))},jr=r(81),ur=r(82),hr=r(17),pr=Object(O.combineReducers)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue:return{loding:!0,products:[]};case Pe:return{loding:!1,products:t.payload.products,page:t.payload.page,pages:t.payload.pages};case Ne:return{loding:!1,error:t.payload,products:[]};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me:return Object(hr.a)({loding:!0},e);case Ge:return{loding:!1,product:t.payload};case qe:return Object(hr.a)(Object(hr.a)({},e),{},{loding:!1,error:t.payload});default:return e}},productDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be:return{loading:!0};case Fe:return{loading:!1,success:!0};case Qe:return{loading:!1,error:t.payload};default:return e}},productCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $e:return{loading:!0};case Je:return{loading:!1,product:t.payload,success:!0};case Ve:return{loading:!1,error:t.payload};case ze:return{};default:return e}},productUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case We:return{loading:!0};case Ye:return{loading:!1,product:t.payload,success:!0};case He:return{loading:!1,error:t.payload};case Ke:return{product:{}};default:return e}},productReviewCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xe:return{loading:!0};case Ze:return{loading:!1,product:t.payload,success:!0};case et:return{loading:!1,error:t.payload};case tt:return{};default:return e}},productTopRated:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case rt:return{loading:!0,products:[]};case at:return{loading:!1,products:t.payload};case nt:return{loding:!1,error:t.payload,products:[]};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Et:var r=t.payload,a=e.cartItems.find((function(e){return e.product===r.product}));return a?Object(hr.a)(Object(hr.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===a.product?r:e}))}):Object(hr.a)(Object(hr.a)({},e),{},{cartItems:[].concat(Object(ht.a)(e.cartItems),[r])});case It:return Object(hr.a)(Object(hr.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case kt:return Object(hr.a)(Object(hr.a)({},e),{},{shippingAddress:t.payload});case _t:return Object(hr.a)(Object(hr.a)({},e),{},{paymentMethod:t.payload});case Rt:return Object(hr.a)(Object(hr.a)({},e),{},{cartItems:[]});default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return{loding:!0,userInfo:null};case v:return{loding:!1,userInfo:t.payload};case y:return{loding:!1,error:t.payload,userInfo:null};case C:return{userInfo:null};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return{loding:!0,userInfo:null};case E:return{loding:!1,userInfo:t.payload};case I:return{loding:!1,error:t.payload,userInfo:null};case C:return{userInfo:null};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(hr.a)({loding:!0},e);case _:return{loding:!1,user:t.payload};case R:return{loding:!1,error:t.payload,userInfo:null};default:return e}},userUpdateByAdmin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(hr.a)({loading:!0},e);case B:return{loading:!1,success:!0};case F:return{loading:!1,error:t.payload};case Q:return{user:{}};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(hr.a)({loading:!0},e);case A:return{loading:!1,users:t.payload};case U:return{loading:!1,error:t.payload};case P:return{users:[],loading:!0};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(hr.a)({loading:!0},e);case L:return{loading:!1,user:t.payload};case D:return{loading:!1,error:t.payload};default:return e}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return{loading:!0};case M:return{loading:!1,success:!0};case G:return{loading:!1,error:t.payload};default:return e}},orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return{loading:!0};case J:return{loading:!1,success:!0,order:t.payload};case V:return{loading:!1,error:t.payload};case z:return{};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(hr.a)(Object(hr.a)({},e),{},{loading:!0});case Y:return{loading:!1,order:t.payload};case H:return{loading:!1,error:t.payload};case K:return{loading:!0};default:return e}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return{loading:!0};case Z:return{loading:!1,success:!0};case ee:return{loading:!1,error:t.payload};case te:return{};default:return e}},orderCustomer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return{loading:!0};case ae:return{loading:!1,orders:t.payload};case ne:return{loading:!1,error:t.payload};case ce:return{loading:!0};default:return e}},orderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se:return{loading:!0};case ie:return{loading:!1,orders:t.payload};case oe:return{loading:!1,error:t.payload};default:return e}},orderDeliver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return{loading:!0};case le:return{loading:!1,success:!0};case je:return{loading:!1,error:t.payload};case ue:return{};default:return e}}}),br=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],Or=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,xr=localStorage.getItem("paymentMethod")?JSON.parse(localStorage.getItem("paymentMethod")):null,mr={cart:{cartItems:br,shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{},paymentMethod:xr},userLogin:{userInfo:Or},userRegister:{userInfo:Or}},fr=[jr.a],gr=Object(O.createStore)(pr,mr,Object(ur.composeWithDevTools)(O.applyMiddleware.apply(void 0,fr)));c.a.render(Object(Se.jsx)(b.a,{store:gr,children:Object(Se.jsx)(dr,{})}),document.getElementById("root")),lr()},87:function(e,t,r){},88:function(e,t,r){}},[[117,1,2]]]);
//# sourceMappingURL=main.e55cd4d2.chunk.js.map